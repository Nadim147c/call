# To run the these tasks install call `go install` `go install github.com/Nadim147c/call`

APP_NAME = call
VERSION ?= $(git describe --tags)

BUILD_FLAGS = -ldflags "-X github.com/${APP_NAME}/cmd.Version=${VERSION}"

# Default command
[default] build

# Run the cli
[run] 
cmd = go run main.go 

# Install all dependencies
[deps]
cmd = go get -v
cmd = go mod tidy

# Build the app
[build] deps
cmd = go build ${BUILD_FLAGS} -o ${APP_NAME}

# Install the app
[install]
cmd = go install ${BUILD_FLAGS}
